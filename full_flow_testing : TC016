//TESTCASE ID:TC016
//Verify that the user can log in to the application, select a product, place an order to their address, and complete the end-to-end process
package swaglabproject_testing;
import java.time.Duration;

import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.chrome.ChromeDriver;
import org.openqa.selenium.support.ui.WebDriverWait;
import org.testng.annotations.BeforeMethod;
import org.testng.annotations.Test;

@Test
public class full_flow_testing {
	WebDriver driver;
	WebDriverWait wait2;

	@BeforeMethod
	public void openBrowser() throws InterruptedException {
		driver = new ChromeDriver();
		driver.manage().window().maximize();
		driver.get("https://www.saucedemo.com/");
		Thread.sleep(1000);
	}

	@Test(priority = 1)
	public void fullflow() throws InterruptedException {
		WebElement username = driver.findElement(By.id("user-name"));
		username.sendKeys("standard_user");
		WebElement password = driver.findElement(By.id("password"));
		password.sendKeys("secret_sauce");
		WebElement login_button = driver.findElement(By.id("login-button"));
		login_button.click();
		// Home page
		driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(40));
		driver.findElement(By.id("add-to-cart-sauce-labs-bike-light")).click();
		WebElement cartpage = driver.findElement(By.className("shopping_cart_link"));
		cartpage.click();
		// checkout page
		WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(40));
		WebElement checkoutbutton = driver.findElement(By.id("checkout"));
		checkoutbutton.click();
		wait2 = new WebDriverWait(driver, Duration.ofSeconds(40));
		WebElement first_name = driver.findElement(By.id("first-name"));
		first_name.sendKeys("JOHN");
		WebElement last_name = driver.findElement(By.id("last-name"));
		last_name.sendKeys("Thomas");
		WebElement postal_code = driver.findElement(By.id("postal-code"));
		postal_code.sendKeys("670673");
		WebElement continue_button = driver.findElement(By.id("continue"));
		continue_button.click();
		wait2 = new WebDriverWait(driver, Duration.ofSeconds(70));
		WebElement Finish_button = driver.findElement(By.id("finish"));
		Finish_button.click();
		wait2 = new WebDriverWait(driver, Duration.ofSeconds(100));
		WebElement Back_home_button = driver.findElement(By.id("back-to-products"));
		Back_home_button.click();
		WebElement triple_bar = driver.findElement(By.id("react-burger-menu-btn"));
		triple_bar.click();
		wait2 = new WebDriverWait(driver, Duration.ofSeconds(100));
		WebElement logout_button = driver.findElement(By.id("logout_sidebar_link"));
		logout_button.click();
		wait2 = new WebDriverWait(driver, Duration.ofSeconds(200));

	}
}
